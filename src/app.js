const io=new IntersectionObserver(e=>{e.forEach(t=>{t.isIntersecting&&t.target.classList.add('reveal-in')})},{threshold:.15});document.querySelectorAll('[data-reveal]').forEach(e=>io.observe(e));const y=document.getElementById('year');if(y)y.textContent=(new Date).getFullYear();function toggleLang(){const p=window.location.pathname;const isEN=p.startsWith('/en/');if(isEN){window.location.pathname=p.replace(/^\/en\//,'/')}else{if(p==='/'||p==='/index.html'){window.location.pathname='/en/index.html'}else{window.location.pathname='/en'+p}}}document.addEventListener('click',e=>{const id=e.target?.id;if(id==='langToggle'||id==='langToggleMobile')toggleLang()});
